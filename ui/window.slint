import { VerticalBox, HorizontalBox, LineEdit } from "std-widgets.slint";

export component MainWindow inherits Window {
    width: 600px;
    height: 400px;
    no-frame: true;
    title: "simdict";

    in-out property translation <=> tr-ti.text;
    in-out property input-text <=> input-le.text;

    callback quit();
    callback search(text: string);

    init => {
        input-le.focus();
    }

    VerticalBox {
        spacing: 16px;
        padding: 16px;
        alignment: start;

        input-le := LineEdit {
            font-size: 16px;
            placeholder-text: "Enter word to search...";

            accepted => {
                root.search(self.text);
            }

            key-pressed(event) => {
                if (event.text == Key.Escape) {
                    root.quit();
                    return accept;
                }
                return reject;
            }
        }

        tr-ti := TextInput {
            font-size: 24px;
            wrap: word-wrap;
            read-only: true;
        }
    }
}
